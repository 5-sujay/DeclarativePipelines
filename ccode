  
pipeline {
    agent {label "Agent C"}
    stages {
        stage('build1') {
            steps {
            sh '''
                if [ -f .git ]
                then
                  cd devtest
                gcc -c main.c fact.c palin.c rev.c sum.c
                gcc -o ABC.exe main.o fact.o palin.o rev.o sum.o 
                else
                  git init
                  git clone https://github.com/deesnest/devtest.git
                  cd devtest
                gcc -c main.c fact.c palin.c rev.c sum.c
                gcc -o ABC.exe main.o fact.o palin.o rev.o sum.o 
                 fi      
                 echo "C project Build Successful"
                 '''
               
              }
        }
        
    }
}
